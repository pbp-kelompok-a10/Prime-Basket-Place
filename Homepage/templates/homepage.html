{% extends 'base.html' %}
{% load static %}

{% block content %}

{% if not request.GET.q %}
<section 
  class="relative w-full h-[480px] bg-cover bg-center rounded-2xl overflow-hidden"
  style="background-image: url('{% static 'images/HomepageBG.png' %}');">
  
  <div class="absolute inset-0 bg-black bg-opacity-50"></div>

  <div class="relative z-10 flex flex-col justify-center h-full px-8 md:px-16 text-white max-w-lg">
    <h1 class="text-4xl md:text-5xl font-extrabold mb-4">Its Prime Time</h1>
    <a href="#" 
       class="inline-block border-2 border-white px-6 py-3 text-lg font-medium hover:bg-white hover:text-black transition-all duration-200 w-fit">
      Shop Now â†’
    </a>
  </div>
</section>

<div class="my-12"></div>

{% include 'slider_product.html' %}

<div class="my-12"></div>
{% endif %}


<section>
  {% if request.GET.q %}
    <h2 class="text-2xl font-semibold mb-4">{{ request.GET.q|capfirst }} Products</h2>
  {% else %}
    <h2 class="text-2xl font-semibold mb-4">All Products</h2>
  {% endif %}

  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
    {% for product in product_catalog %}
      <div class="bg-white rounded-xl shadow-sm overflow-hidden">
        <a href="{% url 'detail_product:show_detail' product.pk %}">
        {% if product.image_url %}
          <img src="{{ product.image_url }}" alt="{{ product.name }}" class="h-40 w-full object-cover">
        {% else %}
          <div class="h-40 w-full bg-gray-200 flex items-center justify-center text-gray-400 text-sm">
            No Image
          </div>
        {% endif %}
        <div class="p-3 card-product-bg-yellow">
          <p class="text-sm text-gray-500 truncate">{{ product.category }}</p>
          <p class="font-semibold truncate">{{ product.name }}</p>
          <p class="text-gray-700 text-sm">Rp{{ product.price }}</p>
        </div>
        </a>
      </div>
    {% empty %}
      <p class="text-gray-500">Belum ada produk.</p>
    {% endfor %}
  </div>
</section>
{% endblock content %}